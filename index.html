// Конфігурація системи досягнень
const ACHIEVEMENTS = {
  woodcutter: {
    name: "Майстер-лісоруб",
    levels: [
      { requirement: 1000, reward: 500, description: "Заготовити 1,000 деревини" },
      { requirement: 10000, reward: 2000, description: "Заготовити 10,000 деревини" },
      { requirement: 100000, reward: 10000, description: "Заготовити 100,000 деревини" }
    ]
  },
  charcoal: {
    name: "Вугільний магнат",
    levels: [
      { requirement: 100, reward: 1000, description: "Виробити 100 вугілля" },
      { requirement: 1000, reward: 5000, description: "Виробити 1,000 вугілля" },
      { requirement: 10000, reward: 25000, description: "Виробити 10,000 вугілля" }
    ]
  },
  golden: {
    name: "Золотошукач",
    levels: [
      { requirement: 10, reward: 2000, description: "Отримати 10 золотого вугілля" },
      { requirement: 100, reward: 10000, description: "Отримати 100 золотого вугілля" },
      { requirement: 1000, reward: 50000, description: "Отримати 1,000 золотого вугілля" }
    ]
  }
};

// Функція для перевірки та відкриття досягнень
function checkAchievements() {
  for (const [key, achievement] of Object.entries(ACHIEVEMENTS)) {
    for (const [i, level] of achievement.levels.entries()) {
      if (gameState[key] >= level.requirement && !unlockedAchievements.includes(`${key}_${i}`)) {
        unlockedAchievements.push(`${key}_${i}`);
        gameState.money += level.reward;
        updateDisplay();
        showNotification(`Досягнуто: ${achievement.name} - Рівень ${i+1}!`, `Отримано ${level.reward} монет`);
      }
    }
  }
}

// Додавання обробника до циклу оновлення гри
setInterval(() => {
  produceWood();
  checkAchievements();
}, 1000);

// Функція для відображення сповіщень
function showNotification(title, message) {
  const notification = document.createElement('div');
  notification.classList.add('notification');
  notification.innerHTML = `<h3>${title}</h3><p>${message}</p>`;
  document.body.appendChild(notification);
  setTimeout(() => notification.remove(), 5000);
}

// Ініціалізація списку відкритих досягнень
let unlockedAchievements = [];
